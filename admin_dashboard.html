<!DOCTYPE html>
<html>

<head>
  <base target="_top">
  <?!= include('header') ?>
</head>

<body class="parent">
  <? var url = getUrl(); ?>
  <nav class="p-4 flex flex-wrap justify-between items-center sticky top-0 z-50"
    style="background-color: rgba(42, 40, 40, 0.2); backdrop-filter: blur(16px);">
    <div class="flex items-center mb-4 md:mb-0 w-full justify-between max-[800px]:mb-0">
      <img
        src="https://lh3.googleusercontent.com/drive-viewer/AKGpihbr1jUPEbB_FypVbwo5XnHDckfcb5iwTFCq7SgaTAEiQr5_Tf5qyVMtIKEnJjHEvTK2TstgNvLvBSjtypbJxUyRkXPPHFUJpA=s1600-rw-v1"
        alt="EZBOOK Logo" class="h-[60px] object-contain">
      <button id="profileButton" class="focus:outline-none h-12 w-12 flex items-center justify-center z-50">
        <img
          src="https://lh3.googleusercontent.com/drive-viewer/AKGpiha7I7athSkWWqVfCgZeiSgeHk39sZANsiMzg5K4EfLHgQWrvC-41XowMKHm__JluV-nkw9m-W55arJI9w3bG3XMJWiqrnKm3TQ=s2560"
          alt="Profile" class="h-12 w-12 rounded-full">
      </button>
      <div id="profileMenu" class="dropdown-menu">
        <a href="<?=url?>?temp=user_profile">User Profile</a>
        <a href="<?=url?>?temp=user_change_password">Change Password</a>
        <form id="logoutForm" action="<?= ScriptApp.getService().getUrl() ?>" method="post">
          <input type="hidden" name="action" value="logout">
          <button type="submit">Logout</button>
        </form>
      </div>
    </div>
    <ul id="navItems"
      class="flex space-x-10 flex-wrap justify-end flex-grow  -mt-14 w-full max-[800px]:mt-4 max-[426px]:space-x-4 items-center justify-center">
      <li><a href="#" class="text-white hover:text-lime-500 lg:ml-16">Employee</a></li>
      <li><a href="#" class="text-white hover:text-lime-500">Customer</a></li>
      <li><a href="#" class="text-white hover:text-lime-500">Booking</a></li>
      <li><a href="#" class="text-white hover:text-lime-500">Invoice</a></li>
      <li><a href="<?=url?>?temp=admin_service" class="text-white hover:text-lime-500">Service</a></li>
      <li><a href="#" class="text-white hover:text-lime-500">Report</a></li>
    </ul>
  </nav>
  <script>
    // Toggle the dropdown menu
    document.getElementById('profileButton').addEventListener('click', function () {
      var menu = document.getElementById('profileMenu');
      menu.style.display = menu.style.display === 'none' || menu.style.display === '' ? 'block' : 'none';
    });

    // Close the dropdown menu when clicking outside of it
    window.onclick = function (event) {
      if (!event.target.matches('#profileButton') && !event.target.matches('#profileButton img')) {
        var dropdowns = document.getElementsByClassName('dropdown-menu');
        for (var i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.style.display === 'block') {
            openDropdown.style.display = 'none';
          }
        }
      }
    }
  </script>
</body>

</html>